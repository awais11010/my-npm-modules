# triangles-distance-fast

unsigned distance to triangles using rtree

```sh
npm i triangles-distance-fast
```

```javascript
//triangle = [[x,y,z],[x,y,z],[x,y,z]]
//aabb = [[x,y,z],[x,y,z]] //axis aligned bounding box

// trianglesDistance(tris, radius, rtree?) // unsigned distance function(x,y,z) sampling over radius, use optional cached rtree
// trianglesIntersectingAABB(tris, aabb, rtree?) // get set of triangles intersecting the aabb
// triangles2RTree(tris) //get rtree for triangles 

var tdf = require('triangles-distance-fast'); 
var fs = require("fs");
var stl = require('stl');
var path = require('path');

//load tris from stl file
var triangles = stl.toObject(fs.readFileSync(path.join(__dirname,'Bitey_Reconstructed_5k.stl'))).facets.map(function(f){return f.verts});

//make distance function
var df = tdf.trianglesDistance(triangles,20.0);

//use it
var dist = df(10,10,10);
console.log(dist); //5.114792068071368

//returns >9999 if nothing found

var s = 999;
var sliceBox = [[-s,-0.01,-s],[s,0.01,s]];
var trianglesGettingSliced = tdf.trianglesIntersectingAABB(triangles, sliceBox);

console.log(trianglesGettingSliced.length, "tris touch box");
//330 tris touch box
```

